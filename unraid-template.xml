<?xml version="1.0"?>
<Container version="2">
  <Name>DockerTemplateManager</Name>
  <Repository>yourusername/docker-template-manager:latest</Repository>
  <Registry>https://hub.docker.com/r/yourusername/docker-template-manager/</Registry>
  <Network>bridge</Network>
  <MyIP/>
  <Shell>bash</Shell>
  <Privileged>false</Privileged>
  <Support>https://github.com/yourusername/docker-template-manager/issues</Support>
  <Project>https://github.com/yourusername/docker-template-manager</Project>
  <Overview>
    Docker Template Manager - Secure web interface for managing Unraid Docker templates.
    
    âœ¨ Features:
    â€¢ Clean up unused templates with smart matching
    â€¢ One-click backups of containers and templates
    â€¢ View template-to-container relationships
    â€¢ Safe operations with automatic backups
    â€¢ Smart matching handles my-, wp- prefixes
    
    ðŸ”’ Security (NEW v1.1.0):
    â€¢ API key authentication required
    â€¢ Path traversal protection
    â€¢ Input validation
    â€¢ All dependencies updated
    
    âš¡ First-Time Setup:
    1. Install the container
    2. Go to Docker tab, click container icon
    3. Copy the generated API key from logs
    4. Save the API key - you'll need it to access the WebUI
    
    Perfect for keeping your Unraid templates organized!
  </Overview>
  <Category>Tools:Utilities</Category>
  <WebUI>http://[IP]:[PORT:8080]</WebUI>
  <TemplateURL>https://raw.githubusercontent.com/yourusername/docker-template-manager/master/unraid-template.xml</TemplateURL>
  <Icon>https://raw.githubusercontent.com/yourusername/docker-template-manager/master/icon.png</Icon>
  <ExtraParams/>
  <PostArgs/>
  <CPUset/>
  <DateInstalled></DateInstalled>
  <DonateText/>
  <DonateLink/>
  <Requires/>
  
  <!-- Port Configuration -->
  <Config Name="WebUI Port" Target="8080" Default="8080" Mode="tcp" Description="Web interface port" Type="Port" Display="always" Required="true" Mask="false">8080</Config>
  
  <!-- Path Configurations -->
  <Config Name="Docker Socket" Target="/var/run/docker.sock" Default="/var/run/docker.sock" Mode="ro" Description="Docker socket (read-only)" Type="Path" Display="always" Required="true" Mask="false">/var/run/docker.sock</Config>
  
  <Config Name="Templates Directory" Target="/templates" Default="/boot/config/plugins/dockerMan/templates-user" Mode="rw" Description="Unraid templates directory - Default is correct for most systems" Type="Path" Display="always" Required="true" Mask="false">/boot/config/plugins/dockerMan/templates-user</Config>
  
  <Config Name="Backups Directory" Target="/backups" Default="/mnt/user/appdata/docker-template-manager/backups" Mode="rw" Description="Backup storage location" Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/docker-template-manager/backups</Config>
  
  <Config Name="Config Directory" Target="/config" Default="/mnt/user/appdata/docker-template-manager/config" Mode="rw" Description="App configuration" Type="Path" Display="advanced" Required="true" Mask="false">/mnt/user/appdata/docker-template-manager/config</Config>
  
  <!-- Security Configuration - REQUIRED -->
  <Config Name="API Key" Target="API_KEY" Default="" Mode="" Description="REQUIRED: API key for authentication. Generate with: openssl rand -base64 32 or leave empty to auto-generate (check logs for key)" Type="Variable" Display="always" Required="false" Mask="true"/>
  
  <Config Name="Allowed Origins" Target="ALLOWED_ORIGINS" Default="http://[IP]:[PORT:8080]" Mode="" Description="CORS allowed origins (use your Unraid IP)" Type="Variable" Display="advanced" Required="false" Mask="false">http://[IP]:[PORT:8080]</Config>
  
  <!-- General Configuration -->
  <Config Name="Timezone" Target="TZ" Default="America/New_York" Mode="" Description="Your timezone for correct timestamps" Type="Variable" Display="advanced" Required="false" Mask="false">America/New_York</Config>
  
  <Config Name="Flask Debug" Target="FLASK_DEBUG" Default="false" Mode="" Description="Debug mode - MUST be false for security" Type="Variable" Display="advanced" Required="false" Mask="false">false</Config>
  
  <Config Name="Backup Retention Days" Target="BACKUP_RETENTION_DAYS" Default="30" Mode="" Description="Days to keep old backups" Type="Variable" Display="advanced" Required="false" Mask="false">30</Config>
</Container>
